{"ast":null,"code":"import _slicedToArray from \"/Users/Macbook/WebstormProjects/mfg-4b-sz/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/Macbook/WebstormProjects/mfg-4b-sz/src/components/Report/SummaryTransaction.js\";\nimport React, { useCallback, useEffect, useMemo, useState } from 'react';\nimport Chip from '@material-ui/core/Chip';\nimport Grid from '@material-ui/core/Grid';\nimport DateFnsUtils from '@date-io/date-fns';\nimport { MuiPickersUtilsProvider, KeyboardDatePicker } from '@material-ui/pickers';\nimport { makeStyles } from '@material-ui/core/styles';\nimport MaterialTable from 'material-table';\nimport axios from '../../api/axiosClient';\nimport { useStateValue } from '../../global/state';\nimport SearchPanel from \"./SearchPanel\";\nconst useStyles = makeStyles(theme => ({\n  clicked: {\n    disabled: true\n  },\n  button: {\n    margin: theme.spacing(0.5),\n    whiteSpace: 'nowrap',\n    backgroundColor: '#110813',\n    color: 'white'\n  },\n  chip_cooking: {\n    margin: theme.spacing(0.5),\n    backgroundColor: '#e31b2f',\n    color: 'white'\n  },\n  chip_ready_pickup: {\n    margin: theme.spacing(0.5),\n    backgroundColor: '#e3c768',\n    color: 'white'\n  },\n  chip_delivered: {\n    margin: theme.spacing(0.5),\n    backgroundColor: '#1b5e20',\n    color: 'white'\n  },\n  chip_cancelled: {\n    margin: theme.spacing(0.5),\n    backgroundColor: '#110813',\n    color: 'white'\n  },\n  close: {\n    padding: theme.spacing(0.5)\n  }\n}));\n\nconst SummaryTransaction = props => {\n  const classes = useStyles();\n  const columnMetaData = [{\n    title: 'Store ID',\n    field: 'store ID'\n  }, {\n    title: 'Store Name',\n    field: 'siteName'\n  }, {\n    title: 'Status',\n    field: 'status',\n    cellStyle: {\n      textAlign: 'center',\n      padding: '1px 1px 1px 1px'\n    },\n    render: rowData => {\n      //props => {\n      if (rowData.status === 'Cooking') {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 74\n          },\n          __self: this\n        }, React.createElement(Chip, {\n          label: \"Cooking\",\n          className: classes.chip_cooking,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 75\n          },\n          __self: this\n        }));\n      }\n    }\n  }, {\n    title: 'Order ID',\n    field: 'orderName'\n  }, {\n    title: 'Order Time',\n    field: 'orderTime',\n    type: 'datetime',\n    cellStyle: {\n      padding: '1px 1px 1px 1px'\n    }\n  }, {\n    title: 'Cooking Time',\n    field: 'cookingFinishTime',\n    type: 'datetime',\n    cellStyle: {\n      padding: '1px 1px 1px 1px'\n    }\n  }, {\n    title: 'Pickup Time',\n    field: 'pickupFinishTime',\n    type: 'datetime',\n    cellStyle: {\n      padding: '1px 1px 1px 1px'\n    }\n  }, {\n    title: 'Cooking time',\n    field: 'cookingTime',\n    cellStyle: {\n      padding: '1px 1px 1px 1px'\n    }\n  }, {\n    title: 'Pickuped time',\n    field: 'pickupTime',\n    cellStyle: {\n      padding: '1px 1px 1px 1px'\n    }\n  }, {\n    title: 'Gross Total',\n    field: 'grossTotal',\n    type: 'currency',\n    currencySetting: {\n      currencyCode: 'THB'\n    }\n  }]; //Global state\n\n  const _useStateValue = useStateValue(),\n        _useStateValue2 = _slicedToArray(_useStateValue, 2),\n        _useStateValue2$ = _useStateValue2[0],\n        appState = _useStateValue2$.appState,\n        dataState = _useStateValue2$.dataState,\n        dispatch = _useStateValue2[1]; //Local state\n\n\n  const _React$useState = React.useState({\n    columns: columnMetaData,\n    data: []\n  }),\n        _React$useState2 = _slicedToArray(_React$useState, 2),\n        state = _React$useState2[0],\n        setState = _React$useState2[1];\n\n  const _React$useState3 = React.useState([]),\n        _React$useState4 = _slicedToArray(_React$useState3, 2),\n        rows = _React$useState4[0],\n        setRows = _React$useState4[1];\n\n  const _React$useState5 = React.useState(false),\n        _React$useState6 = _slicedToArray(_React$useState5, 2),\n        isLoading = _React$useState6[0],\n        setIsLoading = _React$useState6[1]; //Data isloading when button has beenclicked\n\n\n  const _React$useState7 = React.useState(false),\n        _React$useState8 = _slicedToArray(_React$useState7, 2),\n        isLoaded = _React$useState8[0],\n        setIsLoaded = _React$useState8[1];\n\n  const _React$useState9 = React.useState([]),\n        _React$useState10 = _slicedToArray(_React$useState9, 2),\n        sites = _React$useState10[0],\n        setSites = _React$useState10[1];\n\n  const dataSites = useMemo(async () => {\n    let get_url = '/api/v1/sites';\n    const result = await axios.get(get_url); //console.group('GET ' + get_url);\n    //console.log(result.data);\n    //console.groupEnd();\n\n    setSites(result.data);\n    return result.data;\n  }, []);\n  useEffect(() => {\n    setIsLoaded(true);\n  }, []);\n  const searchReport = useCallback(async (site, selectedStartDate, selectedEndDate) => {\n    let get_url = '/api/v1/report_transaction/' + selectedStartDate + '/' + selectedEndDate + '/' + site;\n    const result = await axios.get(get_url);\n    console.group('API :');\n    console.log(result.data);\n    setRows(result.data !== 'undefined' ? result.data : []);\n    console.groupEnd();\n  }, []);\n  return React.createElement(MaterialTable, {\n    title: isLoaded ? React.createElement(SearchPanel, {\n      listbox: sites,\n      searchReport: searchReport,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }) : React.createElement(SearchPanel, {\n      listbox: [],\n      searchReport: searchReport,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }),\n    isLoading: isLoading,\n    columns: state.columns,\n    data: [...rows],\n    filtering: \"true\",\n    options: {\n      padding: 'dense',\n      pageSize: 10,\n      search: false,\n      showTitle: true\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164\n    },\n    __self: this\n  });\n};\n\nexport default SummaryTransaction;","map":{"version":3,"sources":["/Users/Macbook/WebstormProjects/mfg-4b-sz/src/components/Report/SummaryTransaction.js"],"names":["React","useCallback","useEffect","useMemo","useState","Chip","Grid","DateFnsUtils","MuiPickersUtilsProvider","KeyboardDatePicker","makeStyles","MaterialTable","axios","useStateValue","SearchPanel","useStyles","theme","clicked","disabled","button","margin","spacing","whiteSpace","backgroundColor","color","chip_cooking","chip_ready_pickup","chip_delivered","chip_cancelled","close","padding","SummaryTransaction","props","classes","columnMetaData","title","field","cellStyle","textAlign","render","rowData","status","type","currencySetting","currencyCode","appState","dataState","dispatch","columns","data","state","setState","rows","setRows","isLoading","setIsLoading","isLoaded","setIsLoaded","sites","setSites","dataSites","get_url","result","get","searchReport","site","selectedStartDate","selectedEndDate","console","group","log","groupEnd","pageSize","search","showTitle"],"mappings":"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","sourcesContent":["import React, {useCallback, useEffect, useMemo, useState} from 'react';\nimport Chip from '@material-ui/core/Chip';\nimport Grid from '@material-ui/core/Grid';\nimport DateFnsUtils from '@date-io/date-fns';\nimport {\n    MuiPickersUtilsProvider,\n    KeyboardDatePicker,\n} from '@material-ui/pickers';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport MaterialTable from 'material-table';\nimport axios from '../../api/axiosClient';\nimport {useStateValue} from '../../global/state'\nimport SearchPanel from \"./SearchPanel\";\n\n\nconst useStyles = makeStyles(theme => ({\n    clicked: {\n        disabled: true,\n    },\n    button: {\n        margin: theme.spacing(0.5),\n        whiteSpace: 'nowrap',\n        backgroundColor: '#110813',\n        color: 'white'\n    },\n    chip_cooking: {\n        margin: theme.spacing(0.5),\n        backgroundColor: '#e31b2f',\n        color: 'white'\n    },\n    chip_ready_pickup: {\n        margin: theme.spacing(0.5),\n        backgroundColor: '#e3c768',\n        color: 'white'\n    },\n    chip_delivered: {\n        margin: theme.spacing(0.5),\n        backgroundColor: '#1b5e20',\n        color: 'white'\n    },\n    chip_cancelled: {\n        margin: theme.spacing(0.5),\n        backgroundColor: '#110813',\n        color: 'white'\n    },\n    close: {\n        padding: theme.spacing(0.5),\n    },\n}));\n\n\nconst SummaryTransaction = (props) => {\n    const classes = useStyles();\n    const columnMetaData = [\n        {\n            title: 'Store ID',\n            field: 'store ID',\n        },\n        {\n            title: 'Store Name',\n            field: 'siteName',\n        },\n        {\n            title: 'Status',\n            field: 'status',\n            cellStyle: {\n                textAlign: 'center',\n                padding: '1px 1px 1px 1px',\n            },\n            render: rowData => {  //props => {\n                if(rowData.status === 'Cooking' ){\n                    return (\n                        <div>\n                            <Chip label=\"Cooking\" className={classes.chip_cooking}/>\n                        </div>\n                    );\n                }\n            },\n        },\n        {\n            title: 'Order ID',\n            field: 'orderName',\n        },\n        { title: 'Order Time' ,\n            field: 'orderTime',\n            type: 'datetime',\n            cellStyle: {\n                padding: '1px 1px 1px 1px',\n            }\n        },\n        { title: 'Cooking Time' ,\n            field: 'cookingFinishTime',\n            type: 'datetime',\n            cellStyle: {\n                padding: '1px 1px 1px 1px',\n            }\n        },\n        { title: 'Pickup Time' ,\n            field: 'pickupFinishTime',\n            type: 'datetime',\n            cellStyle: {\n                padding: '1px 1px 1px 1px',\n            }\n        },\n        { title: 'Cooking time',\n            field: 'cookingTime',\n            cellStyle: {\n                padding: '1px 1px 1px 1px',\n            }\n        },\n        { title: 'Pickuped time',\n            field: 'pickupTime',\n            cellStyle: {\n                padding: '1px 1px 1px 1px',\n            }\n        },\n        { title: 'Gross Total',\n            field: 'grossTotal',\n            type: 'currency' ,\n            currencySetting: {\n                currencyCode: 'THB'\n            }\n        },\n    ];\n\n    //Global state\n    const [{ appState ,dataState }, dispatch] = useStateValue();\n    //Local state\n    const [state, setState] = React.useState({\n        columns: columnMetaData,\n        data: []\n    });\n    const [rows, setRows] = React.useState([]);\n\n    const [isLoading,setIsLoading] = React.useState(false);  //Data isloading when button has beenclicked\n    const [isLoaded,setIsLoaded] = React.useState(false);\n    const [sites, setSites] = React.useState([]);\n    const dataSites = useMemo( async () => {\n        let get_url = '/api/v1/sites'\n        const result = await axios.get(get_url)\n        //console.group('GET ' + get_url);\n        //console.log(result.data);\n        //console.groupEnd();\n        setSites(result.data);\n        return result.data;\n    },[]);\n\n    useEffect(() => {\n        setIsLoaded(true);\n    },[])\n\n    const searchReport = useCallback( async(site,selectedStartDate,selectedEndDate) => {\n        let get_url = '/api/v1/report_transaction/'+selectedStartDate+'/'+selectedEndDate+'/'+site;\n        const result = await axios.get(get_url);\n        console.group('API :');\n        console.log(result.data);\n        setRows(result.data!=='undefined'?result.data:[]);\n        console.groupEnd();\n\n    },[]);\n\n    return (\n            <MaterialTable\n                title={isLoaded?<SearchPanel listbox={sites} searchReport={searchReport}></SearchPanel> :<SearchPanel listbox={[]} searchReport={searchReport} ></SearchPanel>}\n                isLoading={isLoading}\n                columns={state.columns}\n                data={[...rows]}\n                filtering='true'\n                options={{\n                    padding: 'dense',\n                    pageSize: 10,\n                    search: false,\n                    showTitle: true,\n\n                }}\n\n            />\n    );\n};\n\nexport default SummaryTransaction;"]},"metadata":{},"sourceType":"module"}