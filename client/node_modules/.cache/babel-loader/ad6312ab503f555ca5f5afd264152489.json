{"ast":null,"code":"import _objectSpread from \"/Users/Macbook/WebstormProjects/mfg-4b-sz/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/Users/Macbook/WebstormProjects/mfg-4b-sz/src/App.js\";\nimport React from 'react';\nimport { StateProvider, persistState } from './global/state';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport { ThemeProvider } from '@material-ui/styles';\nimport { createMuiTheme } from '@material-ui/core/styles';\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\nimport Layout from './containers/Layout/Layout';\nimport Login from './containers/Login/Login';\nimport Ordering from './components/Store/Ordering/Ordering';\nimport OrderReady from './components/Store/OrderReady/OrderReady';\nimport DriverReady from './components/Store/DriverReady/DriverReady';\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: '#1b5e20'\n    },\n    secondary: {\n      main: '#73c5be'\n    }\n  },\n  status: {\n    danger: 'orange'\n  }\n}); //const AppContext = React.createContext();\n\nconst App = props => {\n  const initialState = {\n    appState: {\n      logon: false,\n      username: ''\n    },\n    dataState: {},\n    previousState: {}\n  };\n  const persistedState = sessionStorage.getItem(\"sessionstate\") ? JSON.parse(sessionStorage.getItem(\"sessionstate\")) : initialState;\n\n  const reducer = (state, action) => {\n    console.group('Reducer :');\n    console.log('action : ');\n    console.log(action);\n\n    switch (action.type) {\n      case 'LOGIN_SUCCESS':\n        var saved = Object.assign(_objectSpread({}, state));\n        saved.appState.logon = true;\n        saved.appState.username = action.data.username;\n        persistState(saved);\n        return _objectSpread({}, saved);\n\n      default:\n        return state;\n    }\n\n    console.groupEnd();\n  };\n\n  const checkForAuth = props => {\n    console.log('log on state : ' + persistedState.appState.logon);\n\n    if (persistedState.appState.logon) {\n      return React.createElement(Switch, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, React.createElement(Route, {\n        exact: true,\n        path: \"/ordering\",\n        render: props => React.createElement(Layout, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 73\n          },\n          __self: this\n        }, React.createElement(Ordering, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 74\n          },\n          __self: this\n        })),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }), React.createElement(Route, {\n        exact: true,\n        path: \"/order_ready\",\n        render: props => React.createElement(Layout, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 78\n          },\n          __self: this\n        }, React.createElement(OrderReady, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 79\n          },\n          __self: this\n        })),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }), React.createElement(Route, {\n        exact: true,\n        path: \"/driver_ready\",\n        render: props => React.createElement(Layout, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 83\n          },\n          __self: this\n        }, React.createElement(DriverReady, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 84\n          },\n          __self: this\n        })),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }), React.createElement(Route, {\n        render: props => React.createElement(Layout, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 87\n          },\n          __self: this\n        }, React.createElement(Ordering, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 88\n          },\n          __self: this\n        })),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }));\n    }\n\n    return React.createElement(Login, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, \"login\"));\n  };\n\n  return React.createElement(StateProvider, {\n    initialState: persistedState,\n    reducer: reducer,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102\n    },\n    __self: this\n  }, React.createElement(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }, React.createElement(ThemeProvider, {\n    theme: theme,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }, React.createElement(CssBaseline, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  }), React.createElement(Router, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106\n    },\n    __self: this\n  }, checkForAuth(props)))));\n};\n\nexport default App;","map":{"version":3,"sources":["/Users/Macbook/WebstormProjects/mfg-4b-sz/src/App.js"],"names":["React","StateProvider","persistState","CssBaseline","ThemeProvider","createMuiTheme","BrowserRouter","Router","Switch","Route","Layout","Login","Ordering","OrderReady","DriverReady","theme","palette","primary","main","secondary","status","danger","App","props","initialState","appState","logon","username","dataState","previousState","persistedState","sessionStorage","getItem","JSON","parse","reducer","state","action","console","group","log","type","saved","Object","assign","data","groupEnd","checkForAuth"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { StateProvider, persistState } from './global/state'\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport { ThemeProvider } from '@material-ui/styles';\nimport { createMuiTheme } from '@material-ui/core/styles';\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\n\nimport Layout from './containers/Layout/Layout'\nimport Login from './containers/Login/Login'\n\nimport Ordering from './components/Store/Ordering/Ordering'\nimport OrderReady from './components/Store/OrderReady/OrderReady'\nimport DriverReady from './components/Store/DriverReady/DriverReady'\n\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: '#1b5e20',\n    },\n    secondary: {\n      main: '#73c5be',\n    },\n  },\n  status: {\n    danger: 'orange',\n  },\n});\n\n//const AppContext = React.createContext();\n\nconst App = (props) => {\n  const initialState = {\n    appState: {\n      logon: false,\n      username: ''\n    },\n    dataState: {},\n    previousState: {}\n  }\n\n  const persistedState = sessionStorage.getItem(\"sessionstate\")\n    ? JSON.parse(sessionStorage.getItem(\"sessionstate\"))\n    : initialState;\n\n  const reducer = (state, action) => {\n    console.group('Reducer :');\n    console.log('action : ');\n    console.log(action);\n    switch (action.type) {\n      case 'LOGIN_SUCCESS':\n        var saved = Object.assign({ ...state });\n        saved.appState.logon = true;\n        saved.appState.username = action.data.username;\n        persistState(saved);\n        return {\n          ...saved,\n          //theme: action.newTheme\n        };\n\n      default:\n        return state;\n    }\n    console.groupEnd();\n  };\n\n  const checkForAuth = (props) => {\n    console.log('log on state : '+persistedState.appState.logon);\n    if (persistedState.appState.logon) {\n      return (\n        <Switch>\n          <Route exact path='/ordering'\n            render={(props) => <Layout>\n              <Ordering></Ordering>\n            </Layout>\n            } />\n          <Route exact path='/order_ready'\n            render={(props) => <Layout>\n              <OrderReady></OrderReady>\n            </Layout>\n            } />\n          <Route exact path='/driver_ready'\n            render={(props) => <Layout>\n              <DriverReady></DriverReady>\n            </Layout>\n            } />\n          <Route render={(props) => <Layout>\n              <Ordering></Ordering>\n            </Layout>\n            } />\n        </Switch>\n        );\n    }\n    return (\n          <Login>\n            <div>login</div>\n          </Login>\n    );\n  };\n\n  return (\n    <StateProvider initialState={persistedState} reducer={reducer}>\n      <React.Fragment>\n        <ThemeProvider theme={theme}>\n          <CssBaseline />\n          <Router>\n            {checkForAuth(props)}\n          </Router>\n        </ThemeProvider>\n      </React.Fragment>\n    </StateProvider>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}